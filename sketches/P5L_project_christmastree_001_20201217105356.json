{
  "version": "1.3.4",
  "revision": 39,
  "count": {
    "sketches": 1,
    "folders": 0
  },
  "structure": [
    {
      "type": "sketch",
      "name": "xmas_2001-smooth-speed",
      "mod": 1610476899364,
      "parent": "cc_tip02_20210112",
      "code": "let credits = { \n    \"student_names\": \"Timon Götschmann, Jacqueline Müller\", \n    \"recode_artist\": \"J. A. Elenbaas\", \n    \"recode_title\": \"Christmas 2001\", \n    \"recode_year\": 1969 \n} \n\nlet x = 0;\nlet y = 0;\nlet xAxis;\nlet soundVar = 0;\nlet buttonText;\nlet checkbox;\nlet move = 0.0;\n\n\nfunction setup() {\n\tcreateCanvas(windowWidth, windowHeight), WEBGL;\n\t\n\tsetupAudio();\n\t\t\n\tsliderSpeed = createSlider(-.5, .5, .01, .001); //slider for Speed\n\tsliderSpeed.position(width-200, 295);\n\tsliderSpeed.style(\"transform\", \"rotate(-90deg)\");\n\tsliderSpeed.style('-webkit-appearance', 'none');\n\tsliderSpeed.style('width', '200px');\n\tsliderSpeed.style('background', '#444444');\n\tsliderSpeed.style('outline', 'none');\n\tsliderSpeed.style('height', '5px');\n\t\n\treverseColor = createSlider(0, 255, 255, 5); //slider to reverse Color\n\treverseColor.position(width-200, 520)\n\treverseColor.style(\"transform\", \"rotate(90deg)\");\n\treverseColor.style('-webkit-appearance', 'none');\n\treverseColor.style('width','200px');\n\treverseColor.style('background', '#444444');\n\treverseColor.style('outline', 'none');\n\treverseColor.style('height', '5px');\n\t\n\tcheckbox = createCheckbox('audioreactive'); // checkbox for Sound\n\tcheckbox.position(width-170, 80);\n\tcheckbox.style(\"transform\", \"rotate(90deg)\");\n\tcheckbox.style(\"color\",\"#555555\");\n\tcheckbox.style('font-size', '16px'); \n\tcheckbox.style('font-family', 'monospace'); \n\tcheckbox.style('text-align', 'center'); \n\tcheckbox.changed(audioreactive);\n}\n\nfunction draw() {\n\t/* audio vars: amp, ampEase, fft, waveform */\n\tupdateAudio();\n\t\n\tbackground(reverseColor.value(), 255);\n\tstroke(0, 0, 255-reverseColor.value(), 100);\n\t\npush()\n\tnoStroke();\n\tfill(51);\n\ttextSize(12);\n\ttextFont('Courier')\n\ttranslate(width-70,200)\n\trotate(radians(90));\n\ttext(\"Speed\", 0, 0);\n  pop()\n  \n  push()\n\tnoStroke();\n\tfill(51);\n\ttextSize(12);\n\ttextFont('Courier')\n\ttranslate(width-70,425)\n\trotate(radians(90));\n\ttext(\"Color\", 0, 0);\n  pop()\n\n\n\t// Fill variable\n\tlet positionX = width * 0.5; // both X in line() has to be the same ot be straight\n\tlet mouseXmap = map(mouseX, 1, width, -0.2, 0.2); // for interactive mouse X\n\tlet mouseYmap = map(mouseY, 1, height, -30, 40); // for interactive mouse Y\n\tmove += sliderSpeed.value(); // Speed for the turning part\n\tlet sound = amp*0.01;\n\n\t// reverse color if mouse is pressed\n\t//if(mouseIsPressed && mouseX<width*.92){\n\t\t//background(0);\n\t\t//stroke(255);\n\t//}\n\n\tpush()\n\tnoFill();\n\t\t\n\t\tbeginShape(LINES);\n\t\tfor(let i = 0; i < 300; i = i + 1) {\n\t\t\tif(soundVar == 1){ // Audioreactive active\n\t\t\t\tx = sin(i / 16 + (move )) * (i * (1 + mouseXmap-(amp/100))); // number1 -> Length of tree / number2 -> width of three\n\t\t\t} else if (soundVar === 0) { // Audioreactive inactive\n\t\t\t\tx = sin(i / 16 + (move)) * (i * (1 + mouseXmap/*+sound*/) ); // number1 -> Length of tree / number2 -> width of three\n\t\t\t}\n\t\t\t\n\t\t\ty = (i * i) / 300 // Number -> Flatness of sin curve\n\t\t\tline(positionX, 2.5 * i, positionX + x, height * 0.43 + y + mouseYmap);\n\t\t\tif(soundVar == 1){ // Audioreactive active\n\t\t\t\tvertex(positionX, (2.5+(amp/100)) * i)\n\t\t\t} else if (soundVar === 0) { // Audioreactive inactive\n\t\t\t\tvertex(positionX, 2.5 * i)\n\t\t\t}\n\t\t\tvertex(positionX + x, height * 0.43 + y + mouseYmap)\n\t\t\t//line(positionX, 2.5 * i, positionX + x, height * 0.43 + y + mouseYmap);\n\t\t}\n\t\tendShape();\n\tpop()\n}\t\n\t\n\tfunction audioreactive(){ // function for checkbox\n\t\n\tif (this.checked()){\n\t\tsoundVar = 1;\t\n\t}\n\telse{\n\t\tsoundVar = 0;\n\t}\n}\n\n\t\nfunction dance(){\n\tif (soundVar === 0){\n\t\tsoundVar = 1;\n\t} else if (soundVar === 1){\n\t\tsoundVar = 0\n\t}\n\t\n\t\n\tprint(soundVar);\n  //audio.on(\"setupAudio\");\n\n}\n\n/* AUDIO INIT */\nlet mic, fftRaw, fft = [],\n\twaveform = [],\n\tamp = 0.0,\n\tampStereo = {\n\t\tl: 0.0,\n\t\tr: 0.0\n\t},\n\tampEase = 0.0,\n\tnumBins = 512,\n\tbands = 12;\n\nfunction setupAudio() {\n\tuserStartAudio();\n\tmic = new p5.AudioIn();\n\tmic.start();\n\tfftRaw = new p5.FFT(0.75, numBins);\n\tfftRaw.setInput(mic);\n}\n\nfunction updateAudio() {\n\tfftRaw.analyze();\n\tamp = mic.getLevel() * 1000; // average mixed amplitude\n\tampStereo.l = mic.amplitude.getLevel(0) * 500; // average left amplitude\n\tampStereo.r = mic.amplitude.getLevel(1) * 500; // average right amplitude\n\tampEase = ease(amp, ampEase, 0.075); // smooth 'amp'\n\twaveform = fftRaw.waveform(); // array (-1, 1)\n\tfft = fftRaw.logAverages(fftRaw.getOctaveBands(bands)); // array (0, 255)\n}"
    }
  ]
}